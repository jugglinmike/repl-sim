{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///repl-sim.min.js","webpack:///webpack/bootstrap 59174c24abfb449fccab","webpack:///../repl-sim.js","webpack:///../cursor.js","webpack:///../util/pause.js","webpack:///../util/until.js","webpack:///../util/inner-text.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","__WEBPACK_AMD_DEFINE_RESULT__","require","Simulator","el","options","submitDelay","keystrokeDelay","defaults","promptRe","prepText","cursorPeriod","getHeight","readDelay","code","getAttribute","style","height","innerText","setAttribute","_cursor","Cursor","getComputedStyle","color","_lines","split","map","line","prompt","match","input","substring","length","output","pause","clientHeight","Math","random","text","prototype","destroy","_destroyed","Error","hide","play","textContent","appendChild","reduce","previous","idx","then","node","document","createTextNode","insertBefore","show","_typeLine","bind","Promise","resolve","letters","letter","setTimeout","undefined","period","createElement","innerHTML","_blinking","_stopRequests","until","display","_blink","value","backgroundColor","_period","visibility","delay","operation","condition","window","getSelection","selection","ranges","rangeCount","getRangeAt","removeAllRanges","selectAllChildren","toString","addRange"],"mappings":"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","file":"repl-sim.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"replSim\"] = factory();\n\telse\n\t\troot[\"replSim\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","/*!\n * repl-sim - v0.1.0\n * License: GPL-3.0\n * Date: 2016-08-06\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"replSim\"] = factory();\n\telse\n\t\troot[\"replSim\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_RESULT__ = function(require, exports, module) {\n\t  'use strict';\n\t  var Cursor = __webpack_require__(1);\n\t  var pause = __webpack_require__(2);\n\t  var innerText = __webpack_require__(4);\n\t  var defaults = {\n\t    promptRe: /^\\$ /,\n\t    cursorPeriod: 700,\n\t    submitDelay: 800,\n\t    readDelay: 1000,\n\t    getHeight: function(el) {\n\t      return el.clientHeight;\n\t    },\n\t    keystrokeDelay: function() {\n\t      return 50 + Math.random() * 100;\n\t    },\n\t    prepText: function(text) {\n\t      return text;\n\t    }\n\t  };\n\t\n\t  function Simulator(el, options) {\n\t    this.el = el;\n\t\n\t    this.submitDelay = options && options.submitDelay;\n\t    this.keystrokeDelay = options && options.keystrokeDelay ||\n\t      defaults.keystrokeDelay;\n\t    var promptRe = options && options.promptRe || defaults.promptRe;\n\t    var prepText = options && options.prepText || defaults.prepText;\n\t    var cursorPeriod = options && options.cursorPeriod || defaults.cursorPeriod;\n\t    var getHeight = options && options.getHeight || defaults.getHeight;\n\t\n\t    if (typeof this.submitDelay !== 'number') {\n\t      this.submitDelay = defaults.submitDelay;\n\t    }\n\t    this.readDelay = options && options.readDelay;\n\t    if (typeof this.readDelay !== 'number') {\n\t      this.readDelay = defaults.readDelay;\n\t    }\n\t    var code = el.getAttribute('data-repl-sim');\n\t    if (code === null) {\n\t      this.el.style.height = getHeight(this.el) + 'px';\n\t      code = prepText(innerText(this.el) || '');\n\t      this.el.setAttribute('data-repl-sim', code);\n\t    }\n\t\n\t    this._cursor = new Cursor(getComputedStyle(this.el).color, cursorPeriod);\n\t\n\t    this._lines = code.split('\\n').map(function(line) {\n\t      var match = line.match(promptRe);\n\t      var prompt;\n\t\n\t      if (!match) {\n\t        return { output: line };\n\t      }\n\t      prompt = match[0];\n\t\n\t      return {\n\t        prompt: prompt,\n\t        input: line.substring(prompt.length, line.length) || ''\n\t      };\n\t    });\n\t  }\n\t\n\t  Simulator.prototype.destroy = function() {\n\t    if (this._destroyed) {\n\t      throw new Error('ReplSim: `destroy` called on destroyed instance');\n\t    }\n\t\n\t    this._cursor.hide();\n\t    this._destroyed = true;\n\t  };\n\t\n\t  Simulator.prototype.play = function() {\n\t    if (this._destroyed) {\n\t      throw new Error('ReplSim: `play` called on destroyed instance');\n\t    }\n\t\n\t    this.el.textContent = '';\n\t    this.el.appendChild(this._cursor.el);\n\t\n\t    return this._lines.reduce(function(previous, line, idx) {\n\t      return previous.then(function() {\n\t        var node;\n\t        if (this._destroyed) {\n\t          return;\n\t        }\n\t        node = document.createTextNode('');\n\t        this.el.insertBefore(node, this._cursor.el);\n\t        if ('output' in line) {\n\t          this._cursor.hide();\n\t          node.textContent = line.output + '\\n';\n\t          return;\n\t        }\n\t        this._cursor.show();\n\t        node.textContent = line.prompt;\n\t        return pause(this.readDelay)\n\t          .then(function() {\n\t            if (this._destroyed) {\n\t              return;\n\t            }\n\t\n\t            return this._typeLine(node, line.input);\n\t          }.bind(this))\n\t          .then(function() {\n\t            if (this._destroyed) {\n\t              return;\n\t            }\n\t\n\t            return pause(this.submitDelay);\n\t          }.bind(this))\n\t          .then(function() {\n\t            if (this._destroyed) {\n\t              return;\n\t            }\n\t            if (idx < this._lines.length - 1) {\n\t              node.textContent += '\\n';\n\t            }\n\t          }.bind(this));\n\t      }.bind(this));\n\t    }.bind(this), Promise.resolve());\n\t  };\n\t\n\t  Simulator.prototype._typeLine = function(node, text) {\n\t    var letters;\n\t\n\t    if (this._destroyed) {\n\t      return;\n\t    }\n\t\n\t    letters = text.split('');\n\t\n\t    return letters.reduce(function(previous, letter) {\n\t      return previous.then(function() {\n\t          if (this._destroyed) {\n\t            return;\n\t          }\n\t\n\t          return new Promise(function(resolve) {\n\t              setTimeout(function() {\n\t                if (!this._destroyed) {\n\t                  node.textContent += letter;\n\t                }\n\t                resolve();\n\t              }.bind(this), this.keystrokeDelay());\n\t            }.bind(this));\n\t        }.bind(this));\n\t    }.bind(this), Promise.resolve());\n\t  };\n\t\n\t  module.exports = Simulator;\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_RESULT__ = function(require, exports, module) {\n\t  'use strict';\n\t  var pause = __webpack_require__(2);\n\t  var until = __webpack_require__(3);\n\t\n\t  function Cursor(color, period) {\n\t    this.el = document.createElement('span');\n\t    this.el.innerHTML = '&nbsp;';\n\t    this.color(color);\n\t    this.period(period);\n\t    this._blinking = false;\n\t    this._stopRequests = 0;\n\t\n\t    this.show();\n\t  }\n\t\n\t  Cursor.prototype.show = function() {\n\t    this.el.style.display = 'inline';\n\t    this._blink();\n\t  };\n\t\n\t  Cursor.prototype.hide = function() {\n\t    this.el.style.display = 'none';\n\t    if (this._blinking) {\n\t      this._blinking = false;\n\t      this._stopRequests += 1;\n\t    }\n\t  };\n\t\n\t  Cursor.prototype.color = function(value) {\n\t    this.el.style.backgroundColor = value;\n\t  };\n\t\n\t  Cursor.prototype.period = function(value) {\n\t    this._period = value;\n\t  };\n\t\n\t  Cursor.prototype._blink = function() {\n\t    var visibility;\n\t    if (this._blinking) {\n\t      return;\n\t    }\n\t\n\t    this._blinking = true;\n\t\n\t    until(function() {\n\t      visibility = visibility === 'visible' ? 'hidden' : 'visible';\n\t      this.el.style.visibility = visibility;\n\t      return pause(this._period);\n\t    }.bind(this), function() {\n\t      if (this._stopRequests) {\n\t        this._stopRequests -= 1;\n\t        return true;\n\t      }\n\t    }.bind(this));\n\t  };\n\t\n\t  module.exports = Cursor;\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_RESULT__ = function(require, exports, module) {\n\t  'use strict';\n\t\n\t  module.exports = function pause(delay) {\n\t    return new Promise(function(resolve) { setTimeout(resolve, delay); });\n\t  };\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_RESULT__ = function(require, exports, module) {\n\t  'use strict';\n\t\n\t  module.exports = function until(operation, condition) {\n\t    return operation().then(function() {\n\t      if (condition()) {\n\t        return;\n\t      }\n\t\n\t      return until(operation, condition);\n\t    });\n\t  };\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_RESULT__;/**\n\t * Based on the MIT-licensed code at:\n\t *\n\t * https://github.com/duckinator/innerText-polyfill\n\t */\n\t!(__WEBPACK_AMD_DEFINE_RESULT__ = function(require, exports, module) {\n\t  'use strict';\n\t  module.exports = function innerText(el) {\n\t    if ('innerText' in el) {\n\t      return el.innerText;\n\t    }\n\t\n\t    if (!window.getSelection) {\n\t      throw new Error('getSelection not available');\n\t    }\n\t\n\t    var selection = window.getSelection();\n\t    var ranges = [];\n\t    var text, idx, length;\n\t\n\t    // Save existing selections.\n\t    for (idx = 0, length = selection.rangeCount; idx < length; ++idx) {\n\t      ranges[idx] = selection.getRangeAt(idx);\n\t    }\n\t\n\t    // Deselect everything.\n\t    selection.removeAllRanges();\n\t\n\t    // Select `el` and all child nodes.\n\t    selection.selectAllChildren(el);\n\t\n\t    // Get the string representation of the selected nodes.\n\t    text = selection.toString();\n\t\n\t    // Deselect everything. Again.\n\t    selection.removeAllRanges();\n\t\n\t    // Restore all formerly existing selections.\n\t    for (idx = 0, length = ranges.length; idx < length; ++idx) {\n\t      selection.addRange(ranges[idx]);\n\t    }\n\t\n\t    return text;\n\t  };\n\t}.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** repl-sim.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 59174c24abfb449fccab\n **/","define(function(require, exports, module) {\n  'use strict';\n  var Cursor = require('./cursor');\n  var pause = require('./util/pause');\n  var innerText = require('./util/inner-text');\n  var defaults = {\n    promptRe: /^\\$ /,\n    cursorPeriod: 700,\n    submitDelay: 800,\n    readDelay: 1000,\n    getHeight: function(el) {\n      return el.clientHeight;\n    },\n    keystrokeDelay: function() {\n      return 50 + Math.random() * 100;\n    },\n    prepText: function(text) {\n      return text;\n    }\n  };\n\n  function Simulator(el, options) {\n    this.el = el;\n\n    this.submitDelay = options && options.submitDelay;\n    this.keystrokeDelay = options && options.keystrokeDelay ||\n      defaults.keystrokeDelay;\n    var promptRe = options && options.promptRe || defaults.promptRe;\n    var prepText = options && options.prepText || defaults.prepText;\n    var cursorPeriod = options && options.cursorPeriod || defaults.cursorPeriod;\n    var getHeight = options && options.getHeight || defaults.getHeight;\n\n    if (typeof this.submitDelay !== 'number') {\n      this.submitDelay = defaults.submitDelay;\n    }\n    this.readDelay = options && options.readDelay;\n    if (typeof this.readDelay !== 'number') {\n      this.readDelay = defaults.readDelay;\n    }\n    var code = el.getAttribute('data-repl-sim');\n    if (code === null) {\n      this.el.style.height = getHeight(this.el) + 'px';\n      code = prepText(innerText(this.el) || '');\n      this.el.setAttribute('data-repl-sim', code);\n    }\n\n    this._cursor = new Cursor(getComputedStyle(this.el).color, cursorPeriod);\n\n    this._lines = code.split('\\n').map(function(line) {\n      var match = line.match(promptRe);\n      var prompt;\n\n      if (!match) {\n        return { output: line };\n      }\n      prompt = match[0];\n\n      return {\n        prompt: prompt,\n        input: line.substring(prompt.length, line.length) || ''\n      };\n    });\n  }\n\n  Simulator.prototype.destroy = function() {\n    if (this._destroyed) {\n      throw new Error('ReplSim: `destroy` called on destroyed instance');\n    }\n\n    this._cursor.hide();\n    this._destroyed = true;\n  };\n\n  Simulator.prototype.play = function() {\n    if (this._destroyed) {\n      throw new Error('ReplSim: `play` called on destroyed instance');\n    }\n\n    this.el.textContent = '';\n    this.el.appendChild(this._cursor.el);\n\n    return this._lines.reduce(function(previous, line, idx) {\n      return previous.then(function() {\n        var node;\n        if (this._destroyed) {\n          return;\n        }\n        node = document.createTextNode('');\n        this.el.insertBefore(node, this._cursor.el);\n        if ('output' in line) {\n          this._cursor.hide();\n          node.textContent = line.output + '\\n';\n          return;\n        }\n        this._cursor.show();\n        node.textContent = line.prompt;\n        return pause(this.readDelay)\n          .then(function() {\n            if (this._destroyed) {\n              return;\n            }\n\n            return this._typeLine(node, line.input);\n          }.bind(this))\n          .then(function() {\n            if (this._destroyed) {\n              return;\n            }\n\n            return pause(this.submitDelay);\n          }.bind(this))\n          .then(function() {\n            if (this._destroyed) {\n              return;\n            }\n            if (idx < this._lines.length - 1) {\n              node.textContent += '\\n';\n            }\n          }.bind(this));\n      }.bind(this));\n    }.bind(this), Promise.resolve());\n  };\n\n  Simulator.prototype._typeLine = function(node, text) {\n    var letters;\n\n    if (this._destroyed) {\n      return;\n    }\n\n    letters = text.split('');\n\n    return letters.reduce(function(previous, letter) {\n      return previous.then(function() {\n          if (this._destroyed) {\n            return;\n          }\n\n          return new Promise(function(resolve) {\n              setTimeout(function() {\n                if (!this._destroyed) {\n                  node.textContent += letter;\n                }\n                resolve();\n              }.bind(this), this.keystrokeDelay());\n            }.bind(this));\n        }.bind(this));\n    }.bind(this), Promise.resolve());\n  };\n\n  module.exports = Simulator;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../repl-sim.js\n ** module id = 0\n ** module chunks = 0\n **/","define(function(require, exports, module) {\n  'use strict';\n  var pause = require('./util/pause');\n  var until = require('./util/until');\n\n  function Cursor(color, period) {\n    this.el = document.createElement('span');\n    this.el.innerHTML = '&nbsp;';\n    this.color(color);\n    this.period(period);\n    this._blinking = false;\n    this._stopRequests = 0;\n\n    this.show();\n  }\n\n  Cursor.prototype.show = function() {\n    this.el.style.display = 'inline';\n    this._blink();\n  };\n\n  Cursor.prototype.hide = function() {\n    this.el.style.display = 'none';\n    if (this._blinking) {\n      this._blinking = false;\n      this._stopRequests += 1;\n    }\n  };\n\n  Cursor.prototype.color = function(value) {\n    this.el.style.backgroundColor = value;\n  };\n\n  Cursor.prototype.period = function(value) {\n    this._period = value;\n  };\n\n  Cursor.prototype._blink = function() {\n    var visibility;\n    if (this._blinking) {\n      return;\n    }\n\n    this._blinking = true;\n\n    until(function() {\n      visibility = visibility === 'visible' ? 'hidden' : 'visible';\n      this.el.style.visibility = visibility;\n      return pause(this._period);\n    }.bind(this), function() {\n      if (this._stopRequests) {\n        this._stopRequests -= 1;\n        return true;\n      }\n    }.bind(this));\n  };\n\n  module.exports = Cursor;\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../cursor.js\n ** module id = 1\n ** module chunks = 0\n **/","define(function(require, exports, module) {\n  'use strict';\n\n  module.exports = function pause(delay) {\n    return new Promise(function(resolve) { setTimeout(resolve, delay); });\n  };\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../util/pause.js\n ** module id = 2\n ** module chunks = 0\n **/","define(function(require, exports, module) {\n  'use strict';\n\n  module.exports = function until(operation, condition) {\n    return operation().then(function() {\n      if (condition()) {\n        return;\n      }\n\n      return until(operation, condition);\n    });\n  };\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../util/until.js\n ** module id = 3\n ** module chunks = 0\n **/","/**\n * Based on the MIT-licensed code at:\n *\n * https://github.com/duckinator/innerText-polyfill\n */\ndefine(function(require, exports, module) {\n  'use strict';\n  module.exports = function innerText(el) {\n    if ('innerText' in el) {\n      return el.innerText;\n    }\n\n    if (!window.getSelection) {\n      throw new Error('getSelection not available');\n    }\n\n    var selection = window.getSelection();\n    var ranges = [];\n    var text, idx, length;\n\n    // Save existing selections.\n    for (idx = 0, length = selection.rangeCount; idx < length; ++idx) {\n      ranges[idx] = selection.getRangeAt(idx);\n    }\n\n    // Deselect everything.\n    selection.removeAllRanges();\n\n    // Select `el` and all child nodes.\n    selection.selectAllChildren(el);\n\n    // Get the string representation of the selected nodes.\n    text = selection.toString();\n\n    // Deselect everything. Again.\n    selection.removeAllRanges();\n\n    // Restore all formerly existing selections.\n    for (idx = 0, length = ranges.length; idx < length; ++idx) {\n      selection.addRange(ranges[idx]);\n    }\n\n    return text;\n  };\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ../util/inner-text.js\n ** module id = 4\n ** module chunks = 0\n **/"],"sourceRoot":""}